<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Shopping Mall</title>
    <!-- 아이콘 -->
    <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/elice-rabbit-favicon.png"
    />
    <!--   부트스트랩 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!-- bulma css 관련 -->
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"
    />
    <!-- 폰트 어썸: 아이콘 -->
    <script
            defer
            src="https://kit.fontawesome.com/9daa42bcef.js"
            crossorigin="anonymous"
    ></script>
    <!-- AWS S3 사용하기 위한 파일 -->
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.410.0.min.js"></script>
    <!-- 커스텀 css, js -->
    <link rel="stylesheet" href="/cart/cart.css"/>
    <script src="/cart/cart.js" type="module" defer></script>
</head>
<body>
<!-- 헤더 -->
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container mt-3">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/elice-rabbit.png" width="30" height="30"/>
                <span class="has-text-link">Shopping Mall</span>
            </a>

            <a
                    role="button"
                    class="navbar-burger"
                    aria-label="menu"
                    aria-expanded="false"
                    data-target="navbarBasicExample"
            >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div class="navbar-end breadcrumb my-auto" aria-label="breadcrumbs">
            <ul id="navbar">
                <li>
                    <a href="/cart" aria-current="page">
                <span class="icon">
                  <i class="fas fa-cart-shopping"></i>
                </span>
                        <span>카트</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- 장바구니 -->
<section class="section">
    <div class="container">
        <div class="cart-header">
            <div class="title">
                <p class="is-size-2">장바구니</p>
            </div>
            <div class="subtitle">
                <p class="is-size-6">
                    &gt; 주문결제 > 주문완료
                </p>
            </div>
        </div>

        <div class="tile is-ancestor">
            <div class="tile is-8 is-parent cart-products">
                <!-- 장바구니에 담긴 상품 모음 -->
                <div class="box cart-products-container" id="cartProductsContainer">
                    <div class="cart-products-header">

                    </div>


                    <!-- 장바구니에 담긴 상품들의 html 요소(카드 형태)가 주입되는 곳 -->

                    <!--              ISSUE:
                                      반복되는 형태의 태그(상품 정보 출력)의 경우 아래와 같은 방식으로 출력할 수 있음.
                                      그런데 이렇게 하면 코드가 안이쁨.
                                      이를 조금 더 가독성이 좋게 만들 수 있는 방법이 있는가?

                                      예를들어 타임리프 템플릿 엔진의 경우
                                      <div class="card mb-3" th:each = "product: ${products}">   <-products 라는 리스트 형태의 json 데이터를 받아서
                                       ...
                                       <td th:text = "{product.title}">title</td>                <-제목을 태그에 넣음
                                      </div>

                                      이런식으로 야무지게 할 수 있는 방법이 있는가?

                    -->
<!--                    <script>-->
<!--                        var htmlForm =-->
<!--                            '<div class="card mb-3" >\n' +-->
<!--                            '                <div class="card-body">\n' +-->
<!--                            '                  <div class="d-flex justify-content-between">\n' +-->
<!--                            '                    <div class="d-flex flex-row align-items-center">\n' +-->
<!--                            '                      <div>\n' +-->
<!--                            '                        <img\n' +-->
<!--                            '                                src="https://isaiah0214.synology.me/gallery_colorize/fuck.jpg"\n' +-->
<!--                            '                                class="img-fluid rounded-3" alt="Shopping item" style="width: 65px;">\n' +-->
<!--                            '                      </div>\n' +-->
<!--                            '                      <div class="ms-3">\n' +-->
<!--                            '                        <h5>혁진쨩의 법★규 </h5>\n' +-->
<!--                            '                        <p class="small mb-0">27세, INTJ</p>\n' +-->
<!--                            '                      </div>\n' +-->
<!--                            '                    </div>\n' +-->
<!--                            '                    <div class="d-flex flex-row align-items-center">\n' +-->
<!--                            '                      <div style="width: 50px;">\n' +-->
<!--                            '                        <h5 class="fw-normal mb-0">1</h5>\n' +-->
<!--                            '                      </div>\n' +-->
<!--                            '                      <div style="width: 80px;">\n' +-->
<!--                            '                        <h5 class="mb-0">$900</h5>\n' +-->
<!--                            '                      </div>\n' +-->
<!--                            '                      <a href="#!" style="color: #cecece;"><i class="fas fa-trash-alt"></i></a>\n' +-->
<!--                            '                    </div>\n' +-->
<!--                            '                  </div>\n' +-->
<!--                            '                </div>\n' +-->
<!--                            '              </div>';-->

<!--                        for (i = 0; i < 5; i++) {-->
<!--                            document.write(htmlForm);-->
<!--                        }-->

<!--                    </script>-->


                </div>
            </div>

            <!-- 선택한 상품 총 요약 -->
            <div class="tile is-parent tile-order-summary">
                <div class="box order-summary">
                    <div class="header">
                        <p>결제정보</p>
                    </div>
                    <div class="order-info">
                        <div class="info">
                            <p>상품수</p>
                            <p id="productsCount"></p>
                        </div>
                        <div class="info">
                            <p>상품금액</p>
                            <p id="productsTotal"></p>
                        </div>
                        <div class="info">
                            <p>배송비</p>
                            <p id="deliveryFee"></p>
                        </div>
                    </div>
                    <div class="total">
                        <p class="total-label">총 결제금액</p>
                        <p class="total-price" id="orderTotal"></p>
                    </div>
                    <div class="purchase">
                        <button class="button is-info" id="purchaseButton">
                            구매하기
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
